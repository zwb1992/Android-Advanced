dalvik虚拟机和art虚拟机的区别

1.执行文件对比
    dalvik虚拟机：JIT技术（just in time）执行的是.dex文件，在应用启动的时候，通过解析.dex文件来转化成机器可以执行的机器码（把.dex文件进行opt优化，生成odex文件）
    art虚拟机：AOT技术（ahead of time）在apk安装的时候，就已经将dex文件转变成机器码，然后应用运行的时候，直接可以执行这些机器码（把dex文件经过AOT处理变成oat文件）

    相对而言art运行的启动更快，执行速度更快，但是安装时间更长，并且更占内存（以空间换时间）

2.垃圾回收对比
    Dalvik虚拟机在GC时，会挂起虚拟机内部的所有线程，然后GC查找所有可回收的对象进行回收，回收后恢复所有挂起的线程。
        GC与应用程序的运行并不是并发执行的，如果GC频繁或者GC时间过长都会导致应用程序运行卡顿。
        Dalvik在gc时会产生两次暂停，一次标记根节点，一次进行回收。

    ART对GC做了一定的改善，Dalvik的GC操作与应用程序是同步执行的（非并发），而ART则将原来的非并发过程改成部分并发，
        缩短了GC时间，提升了垃圾回收效率。
        ART会产生一次暂停，会并发标记根节点，然后暂停进行回收，回收时dalvik的部分操作在art上面会变成并发去执行

    Dalvik虚拟机垃圾回收采用了Mark and Sweep算法，即“标记-清除”算法，这种算法先对需要回收的内存区域进行标记，然后再统一清除，
        它是一种比较高效的算法，但是带来的弊端是会造成可用内存块的不连续，碎片化严重。虚拟机多次gc之后，本来连续的内存区域变得千疮百孔，
        以后为对象分配内存寻址会越来越难。

    ART在内存分配上做了优化，比如它开辟了一块名为Large Object Space的内存区域，专门用来存放大对象，同时还引入了一个名为moving collector
    的技术，专门用来将gc后不连续的物理内存块对齐，解决了Dalvik上内存碎片化严重的问题。


参考：https://blog.csdn.net/u013293125/article/details/92990013